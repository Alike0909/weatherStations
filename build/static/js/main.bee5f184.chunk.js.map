{"version":3,"sources":["firebase.js","containers/home/index.js","App.js","index.js"],"names":["initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","Home","Header","Layout","Content","Option","Select","useState","allArea","setAllArea","allRegion","setAllRegion","allStation","setAllStation","allFiles","setAllFiles","region","setRegion","station","setStation","tempStation","setTempStation","file","setFile","children","defaultRegion","setDefaultRegion","defaultStation","setDefaultStation","a","getDocs","query","collection","orderBy","data","docs","value","i","area","prev","onSelect","name","useEffect","fetchArea","fetchRegion","fetchStation","fetchFiles","className","style","background","flexDirection","alignItems","size","placeholder","onChange","map","item","id","disabled","length","onClick","links","onChangeStation","href","marginLeft","amount","count","Array","from","keys","decorator","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bee5f184.chunk.js","sourcesContent":["// import firebase from 'firebase/app'\nimport { initializeApp } from 'firebase/app';\nimport 'firebase/auth'\n\nconst app = initializeApp({\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n})\n\n// export const auth = app.auth()\nexport default app","import React, { useEffect, useState } from 'react'\nimport { Layout, Select, Table, Tag, Space } from 'antd';\nimport './index.css'\n\nimport { getFirestore } from \"firebase/firestore\";\nimport { collection, getDocs, query, orderBy } from \"firebase/firestore\";\nimport app from '../../firebase'\nimport Item from 'antd/lib/list/Item';\nconst db = getFirestore();\n\nfunction Home() {\n\n    const { Header, Content } = Layout;\n    const { Option } = Select;\n\n    const [allArea, setAllArea] = useState([])\n    const [allRegion, setAllRegion] = useState([])\n    const [allStation, setAllStation] = useState([])\n    const [allFiles, setAllFiles] = useState([])\n\n    const [region, setRegion] = useState([])\n    const [station, setStation] = useState([])\n    const [tempStation, setTempStation] = useState(``)\n    const [file, setFile] = useState([])\n\n    const [defaultRegion, setDefaultRegion] = useState({ children:`Выберите район` })\n    const [defaultStation, setDefaultStation] = useState({ children:`Выберите метеостанцию` })\n\n    async function fetchArea() {\n        let data = await getDocs(query(collection(db, \"area\"), orderBy('id', 'asc')))\n        setAllArea(data.docs)\n    }\n\n    async function fetchRegion() {\n        let data = await getDocs(query(collection(db, \"region\"), orderBy('id', 'asc')))\n        setAllRegion(data.docs)\n    }\n\n    async function fetchStation() {\n        let data = await getDocs(query(collection(db, \"station\"), orderBy('id', 'asc')))\n        setAllStation(data.docs)\n    }\n\n    async function fetchFiles() {\n        let data = await getDocs(query(collection(db, \"files\"), orderBy('station', 'asc')))\n        setAllFiles(data.docs)\n    }\n\n    async function onChangeArea(value) {\n        setFile([])\n        setRegion([])\n        setStation([])\n        for (let i in allRegion) {\n            if (allRegion[i].data().area === value) {\n                setRegion(prev => [...prev, allRegion[i]])\n            }\n        }\n        setDefaultRegion({ children: `Выберите район` })\n        setDefaultStation({ children:`Выберите метеостанцию` })\n    }\n\n    async function onChangeRegion(value) {\n        setFile([])\n        setStation([])\n        for (let i in allStation) {\n            if (allStation[i].data().region === value) {\n                setStation(prev => [...prev, allStation[i]])\n            }\n        }\n        setDefaultStation({ children: `Выберите метеостанцию` })\n    }\n\n    function onChangeStation(value) {\n        setFile([])\n        for (let i in allFiles) {\n            if (allFiles[i].data().station === value) {\n                setFile(allFiles[i].data().links)\n            }\n        }\n    }\n\n    function onSelect(value, data) {\n        if (data.name == \"region\") {\n            setDefaultRegion(data)\n        } else if (data.name == \"station\") {\n            setDefaultStation(data)\n        }\n    }\n\n    const decorator = (amount) => {\n        const count = 4 - amount\n        const arr = Array.from(Array(count).keys())\n        \n        return (\n            arr.map((item, i) =>\n                <div className=\"content-container-item faded\" key={i}>\n                    <div className=\"img\"></div>\n                    <div className=\"desc\">\n                        <h3>\n                            Пустой\n                        </h3>\n                    </div>\n                </div>\n            )\n        )\n    }\n\n    useEffect(() => {\n        fetchArea()\n        fetchRegion()\n        fetchStation()\n        fetchFiles()\n    }, [])\n\n    return (\n        <div className=\"home\">\n            <Layout style={{background: 'none'}}>\n                <Header>\n                    <div className=\"container\">\n                        <div className=\"header-container-item\" style={{flexDirection: 'row', alignItems: 'center'}}>\n                            <h1>Kazakh National Agrarian Research University</h1>\n                        </div>\n                        <div className=\"header-container-item\">\n                            <h4>Область</h4>\n                            <Select\n                                size=\"large\"\n                                placeholder=\"Выберите область\"\n                                onChange={onChangeArea}\n                            >\n                                {allArea.map((item, i) => \n                                    <Option value={item?.data().id} key={i}>{item?.data().name}</Option>\n                                )}\n                            </Select>\n                        </div>\n                        <div className=\"header-container-item\">\n                            <h4>Район</h4>\n                            <Select\n                                value={defaultRegion.children}\n                                size=\"large\"\n                                onChange={onChangeRegion}\n                                onSelect={onSelect}\n                                disabled={region.length === 0 ? true : false}\n                            >\n                                {region.map((item, i) =>\n                                    <Option name=\"region\" value={item?.data().id} key={i}>{item?.data().name}</Option>\n                                )}\n                            </Select>\n                        </div>\n                        <div className=\"header-container-item\">\n                            <h4>Метеостанция</h4>\n                            <Select\n                                value={defaultStation.children}\n                                size=\"large\"\n                                onChange={(value) => {\n                                    setFile([])\n                                    setTempStation(value)\n                                }}\n                                onSelect={onSelect}\n                                disabled={station.length === 0 ? true : false}\n                            >\n                                {station.map((item, i) =>\n                                    <Option name=\"station\" value={item?.data().id} key={i}>{item?.data().name}</Option>\n                                )}\n                            </Select>\n                        </div>\n                        <div className=\"header-container-item\">\n                            <button onClick={() => onChangeStation(tempStation)}>Поиск</button>\n                        </div>\n                    </div>\n                </Header>\n                <Content>\n                    <div className=\"container flex-wrap-container\">\n                        {file.map((item, i) => \n                            <a href={item}>\n                                <div className=\"content-container-item\" key={i}>\n                                    <div className=\"img\"></div>\n                                    <div className=\"desc\">\n                                        <h3>\n                                            {defaultStation.children}\n                                            <span style={{marginLeft: '3px'}}>{i == 0 ? \"температура\" : \"осадки\"}</span>\n                                        </h3>\n                                    </div>\n                                </div>\n                            </a>\n                        )}\n                        {decorator(file.length)}\n                    </div>\n                </Content>\n            </Layout>\n        </div>\n    )\n}\n\nexport default Home","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport 'antd/dist/antd.css'\n\nimport Home from './containers/home'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path={'/'} component={Home} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}